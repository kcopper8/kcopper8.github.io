---
layout: post
title: front end js 모듈 관리 공부
date: 2016-03-27 22:28:40
tags:
---

블로그를 만든 다음 가장 먼저 공부하려고 했던 영역은 front-end javascript 모듈 관리이다.

## bower 제외

업무에서는 requirejs 를 쓰고 있는데, 개인 프로젝트에서 세팅하려고 했더니 꽤나 고생이었다. 매스 이펙트 팬게임을 만들 때는 requirejs와 bower 를 삽질하면서 어찌어찌 설정해서 썼는데 오래간만에 프론트엔드 프로젝트를 하려니 기억이 하나도 안난다. 당시에도 뭔가 한참 삽질하면서 세팅했던 기억이 나서 다시 시도하고 싶은 느낌이 들지 않는다.

다른 사람들은 어떻게 사용하고 있는지 찾아보니 애초에 bower 를 사용하지 말라는 문서도 보였다. [https://gofore.com/stop-using-bower/] 비판적으로 수용할 수 있을 정도로 자세히 읽지는 않았지만, 애초에 bower 를 쓰지 않고 싶었기 때문에 좋은 핑계가 되었다. 문서 아랫부분에 있는 대안에 해당하는 항목은 어느 정도 제대로 읽었는데, 충분히 할 수 있는 내용으로 보인 것도 이유이다.

그래서 애초에 bower 를 쓰지 않는 것으로 방향을 잡았다.

## requirejs 제외
위 문서에서 찾아낸 키워드인 browserify 를 가지고 검색을 해보았다. 빨리 읽기 위해서 한국어 문서 대상으로 검색했는데, 다음 문서를 찾았다.

[http://blog.coderifleman.com/post/112564054684/browserify%EC%99%80-webpack]

requirejs 의 문제점이라고 언급된 부분이 와닿았다. 팔은 안으로 굽는 법이라, AMD를 조금 편들어보자면, AMD 자체의 문제점라기보다는 CommonJS가 세상의 대세라 도태될 뿐이라고 말하고 싶지만서도. (더 심한 말을 한건 아닌가 모르겠다.)

파일을 머지하지 않고도 비동기적으로 브라우저에서 파일을 가져올 수 있는 AMD만이 가질 수 있는 장점은 분명히 있다고 본다. 여기서 언급된 browserify 및 webpack 은 추측컨데 항상 머지된 파일을 만드는 것으로 보이는데, 대량의 JS를 이용한 서비스를 개발할 때도 만족할 만한 성능이 나올지는 확인해보고 싶다.

생각해보니 파일 쪼개서 사용한다면 별로 의미없나. 이건 나중에 더 생각하자.

여튼 지금은 개인 프로젝트를 해보는 경우고, 굳이 AMD를 써야 할 만큼의 규모가 될 일은 없어 보인다. requirejs 는 제외하고, browserify 및 webpack 중 하나를 골라보기로 했다.

## webpack 으로 결정

위 문서에서 설명된 browserify 의 UNIX 철학을 근간으로 한다는 방침은 아주 마음에 들었다. 혹시라도 현업에서 사용하게 된다면 browserify 를 써야겠다고 생각했다. 하지만 빌드 시간이 webpack 이 더 빠르다는 이야기에 조금 고민이 들어 webpack 으로 좀더 검색해보았다.

그리고 다음 문서를 발견했다.

[http://ironhee.com/2015/06/06/webpack-%EB%AA%A8%EB%93%88%ED%99%94%EC%99%80-%EC%86%8D%EB%8F%84%EB%A5%BC-%EB%AA%A8%EB%91%90-%EC%9E%A1%EB%8A%94-%EB%B0%A9%EB%B2%95/]

이분이 사용하시다가 빌드 속도를 크게 개선했다는 이야기를 듣고 webpack 으로 시도해보기로 결정했다. browserify 의 근본 철학으로 추정해볼 때 빌드 속도를 개선하는 것 역시 불가능할 것 같진 않은데, 그만큼 내가 찾아봐야 할 게 늘어날 것 같다. 지금의 내겐 학습해야 할 게 너무 많아서 더 늘어나는 게 달갑지 않다.

그리하여 최종적으로 webpack 으로 결정했다.


결정하면 뭐하나 공부해야지.
